{
  "version": 3,
  "sources": ["../../../../src/contracts/walrus/active_set.ts"],
  "sourcesContent": ["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\n/**\n * Contains an active set of storage nodes. The active set is a smart collection\n * that only stores up to 1000 nodes. The active set tracks the total amount of\n * staked WAL to make the calculation of the rewards and voting power distribution\n * easier.\n */\n\nimport { bcs } from '@mysten/sui/bcs';\nexport function ActiveSetEntry() {\n\treturn bcs.struct('ActiveSetEntry', {\n\t\tnode_id: bcs.Address,\n\t\tstaked_amount: bcs.u64(),\n\t});\n}\nexport function ActiveSet() {\n\treturn bcs.struct('ActiveSet', {\n\t\t/**\n\t\t * The maximum number of storage nodes in the active set. Potentially remove this\n\t\t * field.\n\t\t */\n\t\tmax_size: bcs.u16(),\n\t\t/**\n\t\t * The minimum amount of staked WAL needed to enter the active set. This is used to\n\t\t * determine if a storage node can be added to the active set.\n\t\t */\n\t\tthreshold_stake: bcs.u64(),\n\t\t/** The list of storage nodes in the active set and their stake. */\n\t\tnodes: bcs.vector(ActiveSetEntry()),\n\t\t/** The total amount of staked WAL in the active set. */\n\t\ttotal_stake: bcs.u64(),\n\t});\n}\n"],
  "mappings": "AAUA,SAAS,WAAW;AACb,SAAS,iBAAiB;AAChC,SAAO,IAAI,OAAO,kBAAkB;AAAA,IACnC,SAAS,IAAI;AAAA,IACb,eAAe,IAAI,IAAI;AAAA,EACxB,CAAC;AACF;AACO,SAAS,YAAY;AAC3B,SAAO,IAAI,OAAO,aAAa;AAAA;AAAA;AAAA;AAAA;AAAA,IAK9B,UAAU,IAAI,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,IAKlB,iBAAiB,IAAI,IAAI;AAAA;AAAA,IAEzB,OAAO,IAAI,OAAO,eAAe,CAAC;AAAA;AAAA,IAElC,aAAa,IAAI,IAAI;AAAA,EACtB,CAAC;AACF;",
  "names": []
}
